import React, { useState, useEffect } from 'react';
import { useWindowSize } from '../util/customHooks';

const cloudSvg = `<svg xmlns="http://www.w3.org/2000/svg" fill="none">
  <path fill="#E6EBFA" stroke="#000064" stroke-width=".771978" d="M607.654 92.7127c11.106-12.0711 23.653-22.9264 37.471-32.2684 1.486-1.0048 2.557-2.5041 3.078-4.2118 7.552-24.7566 27.316-45.1769 54.157-52.36896 26.841-7.19198 54.167.6102 73.086 18.27386 1.305 1.2184 2.982 1.9814 4.771 2.1085 15.592 1.1073 30.883 3.9234 45.627 8.3069 1.544.4588 3.187.4069 4.707-.1025 1.526-.5117 3.078-.9797 4.654-1.402 36.455-9.768 73.805 8.1236 89.768 40.8107 1.422 2.9121 4.45 4.7293 7.689 4.6112 22.071-.8044 43.16 7.9262 58.209 23.2719 1.563 1.5949 3.722 2.4739 5.954 2.4279 24.145-.499 47.005 10.389 61.905 28.82.87 1.066 1.99 1.903 3.27 2.395 2.96 1.13 5.89 2.325 8.79 3.583 1.39.605 2.94.768 4.43.512 39.06-6.703 77.51 17.365 87.97 56.405 1.66 6.18 2.52 12.385 2.65 18.507.05 2.801 1.55 5.386 3.96 6.826 16.67 9.989 29.62 26.212 35.05 46.464 4.91 18.339 2.83 36.903-4.62 52.858-.54 1.157-.8 2.434-.73 3.714 5.23 98.808-58.99 191.208-158.39 217.843-10.5 2.812-21.02 4.794-31.5 5.984-3.42.389-6.17 3.031-6.69 6.434-12.547 81.297-71.645 151.541-156.2 174.198-30.043 8.049-60.304 9.29-89.147 4.668-2.793-.448-5.608.692-7.302 2.957-27.75 37.103-67.693 65.504-115.919 78.426-72.313 19.376-145.902-.699-197.917-47.034-3.834-3.415-9.978-2.205-12.229 2.409-26.22 53.754-74.702 96.286-137.007 112.981-114.174 30.593-231.5311-37.163-262.1239-151.337-.268-1-.7981-1.907-1.521-2.641-9.0942-9.239-15.99414-20.886-19.58924-34.304-7.47543-27.898 1.24853-56.322 20.40794-75.282.9356-.926 1.6371-2.07 2.0101-3.338 4.9977-17.002 12.0775-33.283 21.0234-48.469.8211-1.394 1.1655-3.013 1.0326-4.617-3.036-36.668 20.4607-71.391 57.2581-81.251 12.024-3.222 24.145-3.434 35.563-1.1 1.573.322 3.213.173 4.692-.472.25-.109.501-.218.752-.326 1.843-.796 3.282-2.292 4.068-4.128 9.045-21.127 27.344-38.042 51.264-44.451 4.557-1.221 9.129-2.01 13.671-2.392 3.155-.265 5.925-2.335 6.912-5.364 4.839-14.852 11.282-29.109 19.177-42.513.821-1.394 1.166-3.013 1.033-4.617-3.037-36.669 20.46-71.392 57.258-81.252 12.024-3.222 24.145-3.434 35.564-1.1 1.572.322 3.213.173 4.691-.472l.223-.097c.176-.077.353-.153.529-.229 1.843-.796 3.282-2.292 4.068-4.128 9.045-21.127 27.345-38.042 51.264-44.451 5.64-1.511 11.3-2.36 16.899-2.595 2.602-.109 5.023-1.455 6.395-3.684 24.856-40.369 63.085-72.6 110.479-89.405 2.084-.739 3.729-2.355 4.58-4.383 8.966-21.369 27.369-38.508 51.484-44.9698 5.348-1.433 10.715-2.2707 16.03-2.5538 2.037-.1085 3.973-.9772 5.361-2.4857Z"/>
</svg>
`;

export default function ({ numLayers = 4, numSvgs = 5 }) {
  const [layers, setLayers] = useState([]);
  const { innerWidth } = useWindowSize();

  useEffect(() => {
    const generateLayer = () => {
      const layer = [];
      for (let i = 0; i < numSvgs; i++) {
        const randomScale = Math.random() * (0.8 - 0.5) + 0.5;
        const randomPosition = Math.random() * (80 - 20) + 20;
        layer.push({
          scale: randomScale,
          position: `${randomPosition}%`,
        });
      }
      return layer;
    };

    const layers = [];
    for (let i = 0; i < numLayers; i++) {
      layers.push(generateLayer());
    }

    setLayers(layers);
  }, []);

  return (
    <div className="w-full h-full relative z-10">
      {layers.map((layer, index) => (
        <div
          key={index}
          className={`relative w-full layer-${index}`}
          style={{ top: `${index * 10}px` }}
        >
          {layer.map((svg, index) => (
            <svg
              key={index}
              className="svg absolute animate-right"
            //   style={{
            //     transform: `scale(${svg.scale})`,
            //     left: `${(index * innerWidth) / numSvgs}px`,
            //     width: `${innerWidth / numSvgs}px`,
            //   }}
              style={{
                transform: `scale(${svg.scale})`,
                left: svg.position,
              }}
              width="1208"
              height="889"
            >
              <path fill="#E6EBFA" stroke="#000064" strokeWidth=".771978" d="M607.654 92.7127c11.106-12.0711 23.653-22.9264 37.471-32.2684 1.486-1.0048 2.557-2.5041 3.078-4.2118 7.552-24.7566 27.316-45.1769 54.157-52.36896 26.841-7.19198 54.167.6102 73.086 18.27386 1.305 1.2184 2.982 1.9814 4.771 2.1085 15.592 1.1073 30.883 3.9234 45.627 8.3069 1.544.4588 3.187.4069 4.707-.1025 1.526-.5117 3.078-.9797 4.654-1.402 36.455-9.768 73.805 8.1236 89.768 40.8107 1.422 2.9121 4.45 4.7293 7.689 4.6112 22.071-.8044 43.16 7.9262 58.209 23.2719 1.563 1.5949 3.722 2.4739 5.954 2.4279 24.145-.499 47.005 10.389 61.905 28.82.87 1.066 1.99 1.903 3.27 2.395 2.96 1.13 5.89 2.325 8.79 3.583 1.39.605 2.94.768 4.43.512 39.06-6.703 77.51 17.365 87.97 56.405 1.66 6.18 2.52 12.385 2.65 18.507.05 2.801 1.55 5.386 3.96 6.826 16.67 9.989 29.62 26.212 35.05 46.464 4.91 18.339 2.83 36.903-4.62 52.858-.54 1.157-.8 2.434-.73 3.714 5.23 98.808-58.99 191.208-158.39 217.843-10.5 2.812-21.02 4.794-31.5 5.984-3.42.389-6.17 3.031-6.69 6.434-12.547 81.297-71.645 151.541-156.2 174.198-30.043 8.049-60.304 9.29-89.147 4.668-2.793-.448-5.608.692-7.302 2.957-27.75 37.103-67.693 65.504-115.919 78.426-72.313 19.376-145.902-.699-197.917-47.034-3.834-3.415-9.978-2.205-12.229 2.409-26.22 53.754-74.702 96.286-137.007 112.981-114.174 30.593-231.5311-37.163-262.1239-151.337-.268-1-.7981-1.907-1.521-2.641-9.0942-9.239-15.99414-20.886-19.58924-34.304-7.47543-27.898 1.24853-56.322 20.40794-75.282.9356-.926 1.6371-2.07 2.0101-3.338 4.9977-17.002 12.0775-33.283 21.0234-48.469.8211-1.394 1.1655-3.013 1.0326-4.617-3.036-36.668 20.4607-71.391 57.2581-81.251 12.024-3.222 24.145-3.434 35.563-1.1 1.573.322 3.213.173 4.692-.472.25-.109.501-.218.752-.326 1.843-.796 3.282-2.292 4.068-4.128 9.045-21.127 27.344-38.042 51.264-44.451 4.557-1.221 9.129-2.01 13.671-2.392 3.155-.265 5.925-2.335 6.912-5.364 4.839-14.852 11.282-29.109 19.177-42.513.821-1.394 1.166-3.013 1.033-4.617-3.037-36.669 20.46-71.392 57.258-81.252 12.024-3.222 24.145-3.434 35.564-1.1 1.572.322 3.213.173 4.691-.472l.223-.097c.176-.077.353-.153.529-.229 1.843-.796 3.282-2.292 4.068-4.128 9.045-21.127 27.345-38.042 51.264-44.451 5.64-1.511 11.3-2.36 16.899-2.595 2.602-.109 5.023-1.455 6.395-3.684 24.856-40.369 63.085-72.6 110.479-89.405 2.084-.739 3.729-2.355 4.58-4.383 8.966-21.369 27.369-38.508 51.484-44.9698 5.348-1.433 10.715-2.2707 16.03-2.5538 2.037-.1085 3.973-.9772 5.361-2.4857Z" />
            </svg>
          ))}
        </div>
      ))}
    </div>
  );
}
